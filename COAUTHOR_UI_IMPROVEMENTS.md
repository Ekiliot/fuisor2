# –£–ª—É—á—à–µ–Ω–∏—è UI —Å–æ–∞–≤—Ç–æ—Ä–æ–≤ –∏ –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 1. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–∞–≤—Ç–æ—Ä–æ–≤ —Å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∞–≤–∞—Ç–∞—Ä–∫–∞–º–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–æ–∞–≤—Ç–æ—Ä –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –≤–∏–∑—É–∞–ª—å–Ω–æ –≤ –ø–æ—Å—Ç–µ

**–†–µ—à–µ–Ω–∏–µ:**

#### 1.1 –î–≤–µ –Ω–∞–ª–æ–∂–µ–Ω–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä–∫–∏
- –ö–æ–≥–¥–∞ –µ—Å—Ç—å —Å–æ–∞–≤—Ç–æ—Ä, –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–≤–µ –∞–≤–∞—Ç–∞—Ä–∫–∏, –Ω–∞–ª–æ–∂–µ–Ω–Ω—ã–µ –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞
- –ü–µ—Ä–µ–¥–Ω—è—è –∞–≤–∞—Ç–∞—Ä–∫–∞ –∏–º–µ–µ—Ç —á–µ—Ä–Ω—É—é —Ä–∞–º–∫—É –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è
- –†–∞–∑–º–µ—Ä—ã: –ø–µ—Ä–µ–¥–Ω—è—è 48x48px, –∑–∞–¥–Ω—è—è 42x42px
- –û–±—â–∞—è —à–∏—Ä–∏–Ω–∞: 62px

#### 1.2 –ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ–Ω—ã –º–µ—Å—Ç–∞–º–∏
- –ö–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ –∞–≤–∞—Ç–∞—Ä–∫–∏ –º–µ–Ω—è—é—Ç—Å—è –º–µ—Å—Ç–∞–º–∏
- –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è —á–µ—Ä–µ–∑ `AnimatedOpacity` (500ms)
- –ü–µ—Ä–µ–¥–Ω—è—è –∞–≤–∞—Ç–∞—Ä–∫–∞: opacity 0.7 ‚Üí 1.0
- –ó–∞–¥–Ω—è—è –∞–≤–∞—Ç–∞—Ä–∫–∞: opacity 1.0 ‚Üí 0.7
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–∞–π–º–µ—Ä —Å `Timer.periodic`

#### 1.3 –ö–∞–ø—Å—É–ª–∞ —Å –∏–º–µ–Ω–∞–º–∏
- –ò–º–µ–Ω–∞ –∏ —é–∑–µ—Ä–Ω–µ–π–º—ã –æ–±–µ—Ä–Ω—É—Ç—ã –≤ –∫–∞–ø—Å—É–ª—É (—Ç–µ–º–Ω–æ-—Å–µ—Ä—ã–π —Ñ–æ–Ω, —Å–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ –∫—Ä–∞—è)
- –ê–≤—Ç–æ—Ä: –±–µ–ª—ã–π —Ü–≤–µ—Ç
- –°–æ–∞–≤—Ç–æ—Ä: —Å–∏–Ω–∏–π —Ü–≤–µ—Ç (#0095F6)
- –ö–∞–∂–¥—ã–π –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
- –§–æ—Ä–º–∞—Ç: `Name ‚Ä¢ @username`

**–ö–æ–¥:**

```dart
// –í _PostCardState
late AnimationController _avatarSwapController;
Timer? _avatarSwapTimer;
bool _showAuthorFirst = true;

Widget _buildAvatars() {
  if (widget.post.coauthor == null) {
    return _buildSingleAvatar(widget.post.user?.avatarUrl);
  }
  
  // –î–≤–µ –Ω–∞–ª–æ–∂–µ–Ω–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä–∫–∏ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
  return AnimatedBuilder(
    animation: _avatarSwapController,
    builder: (context, child) {
      // –õ–æ–≥–∏–∫–∞ —Å–º–µ–Ω—ã –º–µ—Å—Ç–∞–º–∏
      ...
    },
  );
}

Widget _buildNamesSection() {
  return Column(
    children: [
      // –ê–≤—Ç–æ—Ä
      GestureDetector(...),
      // –°–æ–∞–≤—Ç–æ—Ä (–µ—Å–ª–∏ –µ—Å—Ç—å)
      if (widget.post.coauthor != null)
        GestureDetector(...),
    ],
  );
}
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ https:// –∫ —Å—Å—ã–ª–∫–∞–º

**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Å—ã–ª–∫–∏ –≤–∏–¥–∞ `t.me/guchiiry` –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å, —Ä–∞–±–æ—Ç–∞–ª–∏ —Ç–æ–ª—å–∫–æ —Å `https://`

**–†–µ—à–µ–Ω–∏–µ:**

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞:

```dart
if (linkUrl.isNotEmpty) {
  // –î–æ–±–∞–≤–ª—è–µ–º https:// –µ—Å–ª–∏ –Ω–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
  if (!linkUrl.startsWith('http://') && !linkUrl.startsWith('https://')) {
    linkUrl = 'https://$linkUrl';
  }
  
  // –í–∞–ª–∏–¥–∞—Ü–∏—è URL
  final uri = Uri.tryParse(linkUrl);
  if (uri == null || !uri.hasAbsolutePath) {
    throw Exception('Invalid URL format');
  }
}
```

**–¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞—é—Ç —Ñ–æ—Ä–º–∞—Ç—ã:**
- `t.me/guchiiry` ‚Üí `https://t.me/guchiiry` ‚úÖ
- `example.com` ‚Üí `https://example.com` ‚úÖ
- `https://example.com` ‚Üí `https://example.com` ‚úÖ

### 3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ —Å–æ–∞–≤—Ç–æ—Ä–∞

**–î–æ–±–∞–≤–ª–µ–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ª–æ–≥–∏:**

```dart
print('CreatePostScreen: Coauthor ID: ${_selectedCoauthor?.id ?? "None"}');
print('CreatePostScreen: Coauthor Username: ${_selectedCoauthor?.username ?? "None"}');
print('CreatePostScreen: External link URL: $linkUrl');
print('CreatePostScreen: External link Text: $linkText');
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∞–≤—Ç–æ—Ä–æ–≤ –ø–æ—Å—Ç–æ–≤
SELECT 
  p.id as post_id,
  p.caption,
  author.username as author,
  coauthor.username as coauthor,
  pc.created_at
FROM posts p
LEFT JOIN post_coauthors pc ON p.id = pc.post_id
LEFT JOIN profiles author ON p.user_id = author.id
LEFT JOIN profiles coauthor ON pc.coauthor_user_id = coauthor.id
WHERE pc.coauthor_user_id IS NOT NULL
ORDER BY p.created_at DESC;
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ UI –≤ –ø–æ—Å—Ç–µ

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Header                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                ‚îÇ
‚îÇ  ‚îÇ üîµ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
‚îÇ  ‚îÇ  üî¥ ‚îÇ  ‚îÇ Author Name ‚Ä¢ @user‚îÇ        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ Coauthor ‚Ä¢ @coauth ‚îÇ        ‚îÇ
‚îÇ           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ  [Image/Video]                          ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ  ‚ù§Ô∏è üí¨ üì§          üîñ                   ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ  Caption text with #hashtags...         ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ  [üîó Button Text]  <- External Link     ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ  View all 5 comments                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

### Frontend
- `fuisor_app/lib/widgets/post_card.dart`
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã: `_buildAvatars()`, `_buildSingleAvatar()`, `_buildNamesSection()`
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–Ω–∏–º–∞—Ü–∏—è: `_avatarSwapController`, `_avatarSwapTimer`
  - –û–±–Ω–æ–≤–ª–µ–Ω header —Å –∫–∞–ø—Å—É–ª–æ–π –¥–ª—è –∏–º–µ–Ω
  
- `fuisor_app/lib/screens/create_post_screen.dart`
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ `https://` –∫ URL
  - –£–ª—É—á—à–µ–Ω–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
  - –í–∞–ª–∏–¥–∞—Ü–∏—è URL —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- [ ] –û–¥–Ω–∞ –∞–≤–∞—Ç–∞—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–ª—è –ø–æ—Å—Ç–∞ –±–µ–∑ —Å–æ–∞–≤—Ç–æ—Ä–∞
- [ ] –î–≤–µ –Ω–∞–ª–æ–∂–µ–Ω–Ω—ã–µ –∞–≤–∞—Ç–∞—Ä–∫–∏ –¥–ª—è –ø–æ—Å—Ç–∞ —Å —Å–æ–∞–≤—Ç–æ—Ä–æ–º
- [ ] –ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ–Ω—ã –∞–≤–∞—Ç–∞—Ä–æ–∫ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- [ ] –ö–∞–ø—Å—É–ª–∞ —Å –∏–º–µ–Ω–∞–º–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∞
- [ ] –ò–º—è –∞–≤—Ç–æ—Ä–∞ –±–µ–ª–æ–µ, —Å–æ–∞–≤—Ç–æ—Ä–∞ —Å–∏–Ω–µ–µ
- [ ] –ö–ª–∏–∫ –Ω–∞ –∏–º—è –∞–≤—Ç–æ—Ä–∞ –≤–µ–¥–µ—Ç –Ω–∞ –µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—å
- [ ] –ö–ª–∏–∫ –Ω–∞ –∏–º—è —Å–æ–∞–≤—Ç–æ—Ä–∞ –≤–µ–¥–µ—Ç –Ω–∞ –µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—å

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- [ ] –°—Å—ã–ª–∫–∞ `t.me/username` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –°—Å—ã–ª–∫–∞ `example.com` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –°—Å—ã–ª–∫–∞ `https://example.com` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- [ ] –°–æ–∞–≤—Ç–æ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- [ ] –°–æ–∞–≤—Ç–æ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ª–µ–Ω—Ç–µ –ø–æ—Å—Ç–æ–≤
- [ ] –°–æ–∞–≤—Ç–æ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ
- [ ] –°–æ–∞–≤—Ç–æ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ shorts

### –û—Ç–ª–∞–¥–∫–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ—Å—Ç–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `post_coauthors`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å JOIN –∑–∞–ø—Ä–æ—Å—ã –≤ API
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç API (–Ω–∞–ª–∏—á–∏–µ `coauthor`)

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å–æ–∞–≤—Ç–æ—Ä** - –ø–æ –¥–∏–∑–∞–π–Ω—É
2. **–ê–Ω–∏–º–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–æ–∞–≤—Ç–æ—Ä–∞** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. **–¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ 6-8 —Å–∏–º–≤–æ–ª–æ–≤** - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¥–∏–∑–∞–π–Ω–∞

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

- Timer –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ dispose –≤–∏–¥–∂–µ—Ç–∞
- –ê–Ω–∏–º–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `AnimatedOpacity` –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
- –ö–∞–ø—Å—É–ª–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –¥–ª–∏–Ω–µ –∏–º–µ–Ω
- URL –≤—Å–µ–≥–¥–∞ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

